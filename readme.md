# hh2mc

Адаптер для проксирования запросов из HTTP-заголовков в формат memcached.
Написано на питоне, компилируется [py2bin](https://github.com/editorbank/py2bin)-ом в единый независимый от установои Python-а бинарный файл.

## Требования к среде исполнения

* ОС Linux семейства Ubuntu
* Установленный Docker или Podman

## Настройка

Среда поддержки образов можно указать в переменой `docker` указав в значении `podman` или `docker` в файлах `config.sh` и `py2bin.sh`.
Там же можно указать ммя контейнера и образ.


## Сборка

Для (пере)сборки образа выполните команду:

```
./build.sh
```
## Проверка

Получившийся образ можно увидеть командой
```
docker images -f reference=hh2mc
```
запустить образ с командой подсказки аргументов
```
docker run -it --rm --name hh2mc docker.io/editorbank/hh2mc:latest /hh2mc.bin --help
```
запустить образ с полученим запросов по порту 8080 и перенаправлением на memcached на порт 8211 на этом же компютере
```
docker run -it --rm --name hh2mc docker.io/editorbank/hh2mc:latest /hh2mc.bin 127.0.0.1:8080 127.0.0.1:8211
```
